# Dify å¹³å°é…ç½®è¯¦ç»†æŒ‡å—

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜å¦‚ä½•åœ¨ Dify å¹³å°ä¸­é…ç½®æ™ºèƒ½è¿ç»´åŠ©æ‰‹ã€‚

## ğŸ“‹ ç›®å½•

1. [åˆ›å»º Agent åº”ç”¨](#åˆ›å»º-agent-åº”ç”¨)
2. [é…ç½®çŸ¥è¯†åº“](#é…ç½®çŸ¥è¯†åº“)
3. [å®‰è£… SSH å·¥å…·æ’ä»¶](#å®‰è£…-ssh-å·¥å…·æ’ä»¶)
4. [é…ç½®æ¨¡å‹](#é…ç½®æ¨¡å‹)
5. [æµ‹è¯•ä¸è°ƒè¯•](#æµ‹è¯•ä¸è°ƒè¯•)

---

## åˆ›å»º Agent åº”ç”¨

### æ­¥éª¤ 1ï¼šç™»å½• Dify æ§åˆ¶å°

è®¿é—®ä½ çš„ Dify å®ä¾‹ï¼ˆè‡ªæ‰˜ç®¡æˆ– Cloud ç‰ˆæœ¬ï¼‰

### æ­¥éª¤ 2ï¼šåˆ›å»ºæ–°åº”ç”¨

1. ç‚¹å‡»ã€ŒStudioã€è¿›å…¥å·¥ä½œå®¤
2. ç‚¹å‡»ã€Œåˆ›å»ºåº”ç”¨ã€æŒ‰é’®
3. é€‰æ‹©ã€Œä»å¤´åˆ›å»ºã€
4. é€‰æ‹©åº”ç”¨ç±»å‹ï¼š**Agent**

### æ­¥éª¤ 3ï¼šé…ç½®åŸºæœ¬ä¿¡æ¯

- **åç§°**ï¼šæ™ºèƒ½è¿ç»´åŠ©æ‰‹
- **å›¾æ ‡**ï¼šé€‰æ‹©ä¸€ä¸ªåˆé€‚çš„å›¾æ ‡ï¼ˆå¦‚æœºå™¨äººæˆ–ç»ˆç«¯å›¾æ ‡ï¼‰
- **æè¿°**ï¼šåŸºäº AI çš„æ™ºèƒ½è¿ç»´é—®ç­”åŠ©æ‰‹ï¼Œæ”¯æŒè¿œç¨‹æœåŠ¡å™¨è¯Šæ–­

### æ­¥éª¤ 4ï¼šé…ç½®ç³»ç»Ÿæç¤ºè¯

è¿›å…¥ã€Œç¼–æ’ã€é¡µé¢ï¼Œåœ¨ã€ŒInstructionsã€åŒºåŸŸå¡«å†™ç³»ç»Ÿæç¤ºè¯ï¼ˆè§ setup.md ä¸­çš„å®Œæ•´æç¤ºè¯ï¼‰ã€‚

å…³é”®é…ç½®è¦ç‚¹ï¼š

```markdown
1. å®šä¹‰è§’è‰²ï¼šè¿ç»´å·¥ç¨‹å¸ˆåŠ©æ‰‹
2. æ˜ç¡®èƒ½åŠ›èŒƒå›´ï¼šè¯Šæ–­ã€å‘½ä»¤ã€é…ç½®ã€æœ€ä½³å®è·µ
3. è®¾å®šè¡Œä¸ºå‡†åˆ™ï¼šå®‰å…¨ã€å‡†ç¡®ã€å¯æ“ä½œ
4. è¯´æ˜å·¥å…·ä½¿ç”¨æ–¹å¼
```

---

## é…ç½®çŸ¥è¯†åº“

### åˆ›å»ºçŸ¥è¯†åº“

1. è¿›å…¥ã€ŒKnowledgeã€èœå•
2. ç‚¹å‡»ã€ŒCreate Knowledgeã€
3. å¡«å†™çŸ¥è¯†åº“ä¿¡æ¯ï¼š
   - åç§°ï¼šè¿ç»´æ–‡æ¡£åº“
   - æè¿°ï¼šåŒ…å«ç³»ç»Ÿæ¶æ„ã€è¿ç»´æ‰‹å†Œã€æ•…éšœå¤„ç†æŒ‡å—

### ä¸Šä¼ æ–‡æ¡£

æ”¯æŒçš„æ–‡ä»¶æ ¼å¼ï¼š
- PDF (æ¨è)
- DOCX / DOC
- TXT
- Markdown
- HTML

æ¨èä¸Šä¼ çš„æ–‡æ¡£ç±»å‹ï¼š
1. **ç³»ç»Ÿæ¶æ„æ–‡æ¡£** - æè¿°ç³»ç»Ÿç»„ä»¶å’Œä¾èµ–å…³ç³»
2. **è¿ç»´æ‰‹å†Œ** - æ—¥å¸¸è¿ç»´æ“ä½œæŒ‡å—
3. **æ•…éšœå¤„ç†æ‰‹å†Œ** - å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ
4. **éƒ¨ç½²æ–‡æ¡£** - å®‰è£…å’Œé…ç½®æ­¥éª¤

### é…ç½®ç´¢å¼•

1. **ç´¢å¼•æ–¹å¼**ï¼šé€‰æ‹©ã€ŒHigh Qualityã€è·å¾—æ›´å¥½çš„æ£€ç´¢æ•ˆæœ
2. **åˆ†æ®µè®¾ç½®**ï¼š
   - åˆ†æ®µé•¿åº¦ï¼š500-1000 å­—ç¬¦
   - åˆ†æ®µé‡å ï¼š50-100 å­—ç¬¦
3. **æ£€ç´¢è®¾ç½®**ï¼š
   - Top Kï¼š5
   - Score é˜ˆå€¼ï¼š0.5

### å…³è”åˆ°åº”ç”¨

1. è¿”å› Agent åº”ç”¨
2. åœ¨ã€ŒContextã€åŒºåŸŸç‚¹å‡»ã€ŒAddã€
3. é€‰æ‹©åˆšåˆ›å»ºçš„çŸ¥è¯†åº“

---

## å®‰è£… SSH å·¥å…·æ’ä»¶

### æ–¹å¼ 1ï¼šé€šè¿‡ Dify æ’ä»¶å¸‚åœºï¼ˆå¦‚æœå¯ç”¨ï¼‰

1. è¿›å…¥ã€ŒToolsã€èœå•
2. æœç´¢ã€ŒSSHã€ç›¸å…³æ’ä»¶
3. ç‚¹å‡»å®‰è£…å¹¶é…ç½®

### æ–¹å¼ 2ï¼šè‡ªå®šä¹‰ API å·¥å…·

1. åœ¨ã€ŒToolsã€èœå•ç‚¹å‡»ã€ŒCustomã€
2. ç‚¹å‡»ã€ŒCreate Custom Toolã€
3. å¡«å†™å·¥å…·ä¿¡æ¯ï¼š

**Execute Command å·¥å…·é…ç½®ï¼š**

```yaml
åç§°: execute_command
æè¿°: é€šè¿‡ SSH åœ¨è¿œç¨‹æœåŠ¡å™¨æ‰§è¡Œå‘½ä»¤

Schema:
openapi: 3.0.0
info:
  title: SSH Execute Command
  version: 1.0.0
paths:
  /api/ssh/execute:
    post:
      operationId: executeCommand
      summary: Execute SSH command on remote server
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - host
                - command
              properties:
                host:
                  type: string
                  description: Server IP address
                command:
                  type: string
                  description: Command to execute
                port:
                  type: integer
                  default: 22
      responses:
        '200':
          description: Command execution result
```

**Check Server Status å·¥å…·é…ç½®ï¼š**

```yaml
åç§°: check_server_status
æè¿°: æ£€æŸ¥è¿œç¨‹æœåŠ¡å™¨çš„ç³»ç»ŸçŠ¶æ€

Schema:
openapi: 3.0.0
info:
  title: Check Server Status
  version: 1.0.0
paths:
  /api/ssh/server-status:
    post:
      operationId: checkServerStatus
      summary: Check server system status
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - host
              properties:
                host:
                  type: string
                  description: Server IP address
                port:
                  type: integer
                  default: 22
      responses:
        '200':
          description: Server status information
```

4. é…ç½® API ç«¯ç‚¹ï¼š
   - Base URLï¼š`http://your-backend-server:8000`

5. ä¿å­˜å¹¶å¯ç”¨å·¥å…·

### åœ¨ Agent ä¸­å¯ç”¨å·¥å…·

1. è¿”å› Agent åº”ç”¨
2. åœ¨ã€ŒToolsã€åŒºåŸŸæ·»åŠ å·²é…ç½®çš„å·¥å…·
3. ç¡®ä¿å·¥å…·å¼€å…³å·²å¯ç”¨

---

## é…ç½®æ¨¡å‹

### é€‰æ‹©æ¨¡å‹

æ¨èä½¿ç”¨ä»¥ä¸‹æ¨¡å‹ä¹‹ä¸€ï¼š

1. **Qwen ç³»åˆ—**ï¼ˆæ¨èï¼‰
   - Qwen2.5-72B-Instruct
   - Qwen3-32B-AWQ
   
2. **GPT ç³»åˆ—**
   - GPT-4o
   - GPT-4-turbo

3. **Claude ç³»åˆ—**
   - Claude-3.5-sonnet
   - Claude-3-opus

### é…ç½®æ¨¡å‹å‚æ•°

```yaml
Temperature: 0.3  # è¾ƒä½çš„å€¼ä½¿è¾“å‡ºæ›´ç¡®å®š
Top P: 0.9
Max Tokens: 4096
```

### é…ç½®æ¨¡å‹æä¾›å•†

1. è¿›å…¥ã€ŒSettingsã€â†’ã€ŒModel Providerã€
2. æ·»åŠ æ¨¡å‹æä¾›å•†ï¼ˆOpenAI / Azure / æœ¬åœ°æ¨¡å‹ï¼‰
3. å¡«å†™ API Key å’Œ Endpoint

---

## æµ‹è¯•ä¸è°ƒè¯•

### ä½¿ç”¨ Debug é¢æ¿

1. åœ¨åº”ç”¨é¡µé¢å³ä¾§æœ‰ã€ŒDebug & Previewã€é¢æ¿
2. è¾“å…¥æµ‹è¯•é—®é¢˜è¿›è¡Œå¯¹è¯
3. è§‚å¯Ÿæ¨¡å‹å“åº”å’Œå·¥å…·è°ƒç”¨

### æµ‹è¯•ç”¨ä¾‹

**åŸºç¡€é—®ç­”æµ‹è¯•ï¼š**
```
ç”¨æˆ·: ä»€ä¹ˆæ˜¯ Kubernetesï¼Ÿ
é¢„æœŸ: è¿”å› K8s çš„æ¦‚å¿µè§£é‡Š
```

**çŸ¥è¯†åº“æ£€ç´¢æµ‹è¯•ï¼š**
```
ç”¨æˆ·: æ ¹æ®è¿ç»´æ‰‹å†Œï¼Œå¦‚ä½•é‡å¯æœåŠ¡ï¼Ÿ
é¢„æœŸ: è¿”å›æ‰‹å†Œä¸­çš„å…·ä½“æ­¥éª¤
```

**å·¥å…·è°ƒç”¨æµ‹è¯•ï¼š**
```
ç”¨æˆ·: è¯·æ£€æŸ¥ 192.168.1.100 çš„æœåŠ¡å™¨çŠ¶æ€
é¢„æœŸ: è°ƒç”¨ check_server_status å·¥å…·å¹¶è¿”å›ç»“æœ
```

### æ—¥å¿—æŸ¥çœ‹

1. è¿›å…¥ã€ŒLogs & Annotationsã€èœå•
2. æŸ¥çœ‹å¯¹è¯æ—¥å¿—å’Œå·¥å…·è°ƒç”¨è®°å½•
3. åˆ†æå“åº”è´¨é‡å’Œå»¶è¿Ÿ

---

## è·å– API è®¿é—®

### åˆ›å»º API Key

1. è¿›å…¥åº”ç”¨ã€ŒAPI Accessã€é¡µé¢
2. ç‚¹å‡»ã€ŒCreate Secret Keyã€
3. å¤åˆ¶å¹¶å®‰å…¨ä¿å­˜ API Key

### API ç«¯ç‚¹

```
Base URL: https://your-dify-instance/v1

ç«¯ç‚¹:
- POST /chat-messages    # å‘é€æ¶ˆæ¯
- GET  /messages         # è·å–å†å²
- POST /files/upload     # ä¸Šä¼ æ–‡ä»¶
```

### ç¤ºä¾‹è¯·æ±‚

```bash
curl -X POST 'https://your-dify/v1/chat-messages' \
  -H 'Authorization: Bearer app-xxxxx' \
  -H 'Content-Type: application/json' \
  -d '{
    "inputs": {},
    "query": "è¯·æ£€æŸ¥æœåŠ¡å™¨ 192.168.1.100 çš„çŠ¶æ€",
    "response_mode": "blocking",
    "user": "user-123"
  }'
```

---

## ä¸‹ä¸€æ­¥

- é…ç½®å®Œæˆåï¼Œè¿”å›åç«¯æœåŠ¡é…ç½® Dify API ä¿¡æ¯
- æµ‹è¯•å‰åç«¯è”è°ƒ
- ä¸Šçº¿å‰è¿›è¡Œå®‰å…¨å®¡æŸ¥
