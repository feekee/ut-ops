# ğŸ¤– æ™ºèƒ½è¿ç»´åŠ©æ‰‹ (Smart O&M Assistant)

åŸºäº Dify å¹³å°çš„æ™ºèƒ½è¿ç»´åŠ©æ‰‹ï¼Œæä¾› ChatGPT é£æ ¼çš„å¯¹è¯ç•Œé¢ï¼Œæ”¯æŒæ–‡æ¡£çŸ¥è¯†åº“ã€SSH è¿œç¨‹æ’æŸ¥ç­‰åŠŸèƒ½ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸ—£ï¸ **ChatGPT é£æ ¼å¯¹è¯ç•Œé¢** - æµç•…çš„å¤šè½®å¯¹è¯ä½“éªŒ
- ğŸ“š **è¿ç»´æ–‡æ¡£çŸ¥è¯†åº“** - æ”¯æŒä¸Šä¼ è¿ç»´æ–‡æ¡£ï¼Œè‡ªåŠ¨è§£æç³»ç»Ÿæ¶æ„
- ğŸ”§ **è¿œç¨‹ç¯å¢ƒæ’æŸ¥** - SSH è¿æ¥æœåŠ¡å™¨ï¼Œæ‰§è¡Œ kubectl/docker/Linux å‘½ä»¤
- ğŸ’¡ **é€šç”¨è¿ç»´é—®ç­”** - åŸºäºå¤§æ¨¡å‹çŸ¥è¯†å›ç­”æŠ€æœ¯é—®é¢˜

## ğŸ“ é¡¹ç›®ç»“æ„

```
ut/
â”œâ”€â”€ frontend/                 # å‰ç«¯é¡¹ç›® (React + TypeScript)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/       # ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/           # é¡µé¢
â”‚   â”‚   â”œâ”€â”€ hooks/           # è‡ªå®šä¹‰ Hooks
â”‚   â”‚   â”œâ”€â”€ services/        # API æœåŠ¡
â”‚   â”‚   â””â”€â”€ styles/          # æ ·å¼æ–‡ä»¶
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ backend/                  # åç«¯æœåŠ¡ (FastAPI)
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ api/             # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ services/        # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ tools/           # SSH/å‘½ä»¤å·¥å…·
â”‚   â”‚   â””â”€â”€ models/          # æ•°æ®æ¨¡å‹
â”‚   â””â”€â”€ requirements.txt
â”œâ”€â”€ dify-plugin/             # Dify è‡ªå®šä¹‰æ’ä»¶
â”‚   â”œâ”€â”€ ssh_tool/            # SSH å·¥å…·æ’ä»¶
â”‚   â””â”€â”€ ops_commands/        # è¿ç»´å‘½ä»¤æ’ä»¶
â”œâ”€â”€ docker/                  # Docker é…ç½®
â”‚   â””â”€â”€ docker-compose.yml
â””â”€â”€ docs/                    # æ–‡æ¡£
    â””â”€â”€ setup.md
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹å¼ 1ï¼šDocker æ„å»ºéƒ¨ç½²ï¼ˆéœ€è¦ç½‘ç»œï¼‰

```bash
# 1. å¤åˆ¶ç¯å¢ƒå˜é‡é…ç½®
copy env.example .env

# 2. ç¼–è¾‘ .envï¼Œå¡«å†™ Dify API Key ç­‰é…ç½®
# (Windows) notepad .env
# (Linux/Mac) vim .env

# 3. æ„å»ºå¹¶å¯åŠ¨
# Windows
build.bat

# Linux/Mac
bash build.sh

# 4. è®¿é—®åº”ç”¨
# å‰ç«¯: http://localhost:3000
# åç«¯: http://localhost:8000/docs
```

### æ–¹å¼ 2ï¼šDocker åŠ è½½é¢„æ„å»ºé•œåƒï¼ˆç¦»çº¿éƒ¨ç½²ï¼‰

é€‚ç”¨äºå†…ç½‘ç¯å¢ƒï¼Œé•œåƒå·²æå‰æ„å»ºå¹¶å¯¼å‡ºã€‚

```bash
# 1. åŠ è½½é•œåƒ
docker load -i frontend.tar
docker load -i backend.tar

# 2. å¯åŠ¨æœåŠ¡
# Windows
start.bat

# Linux/Mac
bash start.sh

# æˆ–ç›´æ¥ä½¿ç”¨
docker-compose up -d

# 3. è®¿é—®åº”ç”¨
# å‰ç«¯: http://localhost:3000
# åç«¯: http://localhost:8000/docs
```

### æ–¹å¼ 2ï¼šæœ¬åœ°å¼€å‘

```bash
# 1. ç¯å¢ƒå‡†å¤‡
cd D:\work\ut

# 2. å®‰è£…å‰ç«¯ä¾èµ–
cd frontend
npm install

# 3. å®‰è£…åç«¯ä¾èµ–
cd ../backend
pip install -r requirements.txt

# 4. é…ç½® Dify
# - è®¿é—® Dify æ§åˆ¶å°
# - åˆ›å»º Agent åº”ç”¨
# - é…ç½®çŸ¥è¯†åº“å’Œå·¥å…·æ’ä»¶
# - è·å– API Key

# 5. å¯åŠ¨æœåŠ¡
# å¯åŠ¨åç«¯ï¼ˆç»ˆç«¯ 1ï¼‰
cd backend
uvicorn app.main:app --reload --port 8000

# å¯åŠ¨å‰ç«¯ï¼ˆç»ˆç«¯ 2ï¼‰
cd frontend
npm run dev
```

## ğŸ“– è¯¦ç»†æ–‡æ¡£

- [å®‰è£…éƒ¨ç½²æŒ‡å—](docs/setup.md) - åˆå§‹åŒ–é…ç½®
- [Dify é…ç½®æŒ‡å—](docs/dify-config.md) - Dify å¹³å°é…ç½®
- [ç¦»çº¿éƒ¨ç½²æŒ‡å—](docs/offline-deployment.md) - å†…ç½‘ç¦»çº¿éƒ¨ç½²
- [å†…ç½‘éƒ¨ç½²æŒ‡å—](docs/intranet-deployment.md) - å†…ç½‘æœ‰é™ç½‘ç»œéƒ¨ç½²
- [NPM æ•…éšœæ’æŸ¥](docs/npm-troubleshooting.md) - å‰ç«¯æ„å»ºé—®é¢˜
- [API æ¥å£æ–‡æ¡£](docs/api.md) - æ¥å£å‚è€ƒ

## ğŸ” å®‰å…¨æ³¨æ„äº‹é¡¹

âš ï¸ **é‡è¦å®‰å…¨æé†’**ï¼š

1. **SSH å¯†é’¥ç®¡ç†** - ç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨å¯†é’¥è®¤è¯è€Œéå¯†ç 
2. **IP ç™½åå•** - é™åˆ¶å¯è®¿é—®çš„æœåŠ¡å™¨ IP èŒƒå›´
3. **å‘½ä»¤ç™½åå•** - ä»…å…è®¸é¢„å®šä¹‰çš„å®‰å…¨å‘½ä»¤
4. **å®¡è®¡æ—¥å¿—** - è®°å½•æ‰€æœ‰è¿œç¨‹æ“ä½œæ—¥å¿—
5. **æƒé™æ§åˆ¶** - å®ç°åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶

## ğŸ“ License

MIT License
